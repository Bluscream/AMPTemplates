[
    {
        "UpdateStageName":"Allowlist.json Backup",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CopyFilePath",
        "UpdateSourceData":"{{$FullBaseDir}}allowlist.json.bak",
        "UpdateSourceArgs":"{{$FullBaseDir}}allowlist.json",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"Permissions.json Backup",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CopyFilePath",
        "UpdateSourceData":"{{$FullBaseDir}}permissions.json.bak",
        "UpdateSourceArgs":"{{$FullBaseDir}}permissions.json",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"Server Download",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"FetchURLFromJQ",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/minecraft-bedrockdownloadurl.json",
        "UpdateSourceArgs":"$.Windows",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Server Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURLFromJQ",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/minecraft-bedrockdownloadurl.json",
        "UpdateSourceArgs":"$.Linux",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Make Server Executable",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"SetExecutableFlag",
        "UpdateSourceArgs":"{{$FullBaseDir}}bedrock_server"
    },
    {
        "UpdateStageName":"Allowlist.json Restore",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CopyFilePath",
        "UpdateSourceData":"{{$FullBaseDir}}allowlist.json",
        "UpdateSourceArgs":"{{$FullBaseDir}}allowlist.json.bak",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"Permissions.json Backup",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CopyFilePath",
        "UpdateSourceData":"{{$FullBaseDir}}permissions.json",
        "UpdateSourceArgs":"{{$FullBaseDir}}permissions.json.bak",
        "OverwriteExistingFiles":true
    }
]
