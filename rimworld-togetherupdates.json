[
    {
        "UpdateStageName":"Create Dotnet Directory",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}dotnet"
    },
    {
        "UpdateStageName":"ASP.NET Core Runtime Download",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://dotnetcli.azureedge.net/dotnet/aspnetcore/Runtime/{{DotnetVersion}}/aspnetcore-runtime-{{DotnetVersion}}-win-x64.zip",
        "UpdateSourceTarget":"{{$FullBaseDir}}dotnet",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"ASP.NET Core Runtime Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://dotnetcli.azureedge.net/dotnet/aspnetcore/Runtime/{{DotnetVersion}}/aspnetcore-runtime-{{DotnetVersion}}-linux-x64.tar.gz",
        "UpdateSourceArch":"x86_64",
        "UpdateSourceTarget":"{{$FullBaseDir}}dotnet",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"ASP.NET Core Runtime Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://dotnetcli.azureedge.net/dotnet/aspnetcore/Runtime/{{DotnetVersion}}/aspnetcore-runtime-{{DotnetVersion}}-linux-arm64.tar.gz",
        "UpdateSourceArch":"aarch64",
        "UpdateSourceTarget":"{{$FullBaseDir}}dotnet",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Rimworld Together Download",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"GithubRelease",
        "UpdateSourceData":"Windows-x64.zip",
        "UpdateSourceArgs":"Nova-Atomic/Rimworld-Together",
        "UpdateSourceTarget":"{{$FullRootDir}}",
        "UpdateSourceVersion":"{{ReleaseVersion}}",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Rimworld Together Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"GithubRelease",
        "UpdateSourceData":"Linux-x64.zip",
        "UpdateSourceArgs":"Nova-Atomic/Rimworld-Together",
        "UpdateSourceTarget":"{{$FullRootDir}}",
        "UpdateSourceVersion":"{{ReleaseVersion}}",
        "UpdateSourceArch":"x86_64",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Rimworld Together Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"GithubRelease",
        "UpdateSourceData":"Linux-ARM-x64.zip",
        "UpdateSourceArgs":"Nova-Atomic/Rimworld-Together",
        "UpdateSourceTarget":"{{$FullRootDir}}",
        "UpdateSourceVersion":"{{ReleaseVersion}}",
        "UpdateSourceArch":"aarch64",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Pause Update Stages",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Pause",
        "UpdateSourceArgs":"2"
    },
    {
        "UpdateStageName":"Move Server Files",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"Executable",
        "UpdateSourceData":"cmd.exe",
        "UpdateSourceArgs":"/C xcopy /E /Y /I rimworld-together\\Windows-x64\\* rimworld-together\\server\\ && rmdir /Q /S rimworld-together\\Windows-x64\\"
    },
    {
        "UpdateStageName":"Move Server Files",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c '\\cp -rf ./rimworld-together/Linux-x64/* ./rimworld-together/server/ && chmod +x ./rimworld-together/server/GameServer ; rm -rf ./rimworld-together/Linux-x64/'",
        "UpdateSourceArch":"x86_64"
    },
    {
        "UpdateStageName":"Move Server Files",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c '\\cp -rf ./rimworld-together/Linux-ARM-x64/* ./rimworld-together/server/ && chmod +x ./rimworld-together/server/GameServer ; rm -rf ./rimworld-together/Linux-ARM-x64/'",
        "UpdateSourceArch":"aarch64"
    }
]
