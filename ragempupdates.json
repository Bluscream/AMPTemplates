[
    {
        "UpdateStageName":"Setup Directory Creation",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullRootDir}}setup",
        "OneShot":true
    },
    {
        "UpdateStageName":"RAGE:MP Updater Download",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://cdn.rage.mp/updater/prerelease/updater.exe",
        "UpdateSourceTarget":"{{$FullRootDir}}setup",
        "OverwriteExistingFiles":true,
        "OneShot":true
    },
    {
        "UpdateStageName":"Modify config.xml",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"CreateFile",
        "UpdateSourceData":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<channel>prerelease_server</channel>",
        "UpdateSourceArgs":"{{$FullRootDir}}setup/config.xml",
        "OverwriteExistingFiles":true,
        "OneShot":true
    },
    {
        "UpdateStageName":"RAGE:MP Installation",
        "UpdateSourcePlatform":"Windows",
        "UpdateSource":"Executable",
        "UpdateSourceData":"cmd.exe",
        "UpdateSourceArgs":"/C cd ragemp/setup && .\\updater.exe & xcopy /E /Y /I server-files\\* ..\\server\\",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"RAGE:MP Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://cdn.rage.mp/updater/prerelease/server-files/linux_x64.tar.gz",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"RAGE:MP Installation",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c 'cd ragemp/server && tar -xzf linux_x64.tar.gz --strip-components=1 && rm -f linux_x64.tar.gz >/dev/null 2>&1'",
        "SkipOnFailure":false
    },
    {
        "UpdateStageName":"Resources Directory Creation",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}dotnet/resources"
    },
    {
        "UpdateStageName":"Config File Download",
        "UpdateSourcePlatform":"All",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/ragempconf.json",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "UpdateSourceArgs":"conf.json",
        "OverwriteExistingFiles":false
    }
]
