[
    {
        "UpdateStageName":"Create Text-To-Speech Directory",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}tts"
    },
    {
        "UpdateStageName":"Create yt-dlp Directory",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}yt-dlp"
    },
    {
        "UpdateStageName":"Create TS3 Plugins Directory",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"CreateDirectory",
        "UpdateSourceArgs":"{{$FullBaseDir}}TeamSpeak3-Client-linux_amd64/plugins",
        "UpdateSourceConditionSetting":"BotMode",
        "UpdateSourceConditionValue":"./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64"
    },
    {
        "UpdateStageName":"Download SinusBot",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://www.sinusbot.com/dl/sinusbot.current.tar.bz2",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Download Text-To-Speech",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://chromium.googlesource.com/chromiumos/platform/assets/+archive/master/speech_synthesis/patts.tar.gz",
        "UpdateSourceTarget":"/tmp",
        "UnzipUpdateSource":true,
        "OverwriteExistingFiles":true,
        "DeleteAfterExtract":true
    },
    {
        "UpdateStageName":"Install Text-To-Speech",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"cd sinusbot/tts && unzip -q /tmp/tts_service_x86_64.nexe.zip && mv -f tts_service_x86_64.nexe /tmp/voice_lstm_en-US.zvoice /tmp/voice_lstm_de-DE.zvoice .\""
    },
    {
        "UpdateStageName":"Download yt-dlp",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp",
        "UpdateSourceTarget":"{{$FullBaseDir}}yt-dlp",
        "OverwriteExistingFiles":true
    },
    {
        "UpdateStageName":"Remove TeamSpeak 3 Client",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"rm -rf sinusbot/TeamSpeak3-Client-linux_amd64\"",
        "UpdateSourceConditionSetting":"BotMode",
        "UpdateSourceConditionValue":""
    },
    {
        "UpdateStageName":"Download TeamSpeak 3 Client",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURLFromJQ",
        "UpdateSourceData":"https://teamspeak.com/versions/client.json",
        "UpdateSourceArgs":"$['linux']['x86_64']['mirrors']['teamspeak.com']",
        "OverwriteExistingFiles":true,
        "UpdateSourceConditionSetting":"BotMode",
        "UpdateSourceConditionValue":"./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64"
    },
    {
        "UpdateStageName":"Install TeamSpeak 3 Client",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c \"cd sinusbot && chmod 755 TeamSpeak3-Client-linux_amd64-*.run && yes | ./TeamSpeak3-Client-linux_amd64-*.run && rm -rf TeamSpeak3-Client-linux_amd64-*.run data/ts3 TeamSpeak3-Client-linux_amd64/xcbglintegrations/libqxcb-glx-integration.so && \\cp -f plugin/libsoundbot_plugin.so TeamSpeak3-Client-linux_amd64/plugins\"",
        "UpdateSourceConditionSetting":"BotMode",
        "UpdateSourceConditionValue":"./TeamSpeak3-Client-linux_amd64/ts3client_linux_amd64"
    },
    {
        "UpdateStageName":"Config.ini Download",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"FetchURL",
        "UpdateSourceData":"https://raw.githubusercontent.com/Greelan/AMPTemplates/dev/sinusbotconfig.ini",
        "UpdateSourceArgs":"config.ini",
        "UpdateSourceTarget":"{{$FullBaseDir}}",
        "OverwriteExistingFiles":false
    },
    {
        "UpdateStageName":"Make Binaries Executable",
        "UpdateSourcePlatform":"Linux",
        "UpdateSource":"Executable",
        "UpdateSourceData":"/bin/bash",
        "UpdateSourceArgs":"-c 'cd sinusbot && chmod 755 sinusbot yt-dlp/yt-dlp'"
    }
]